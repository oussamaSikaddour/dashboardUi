<!DOCTYPE html>
<html lang="en" >
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <title>CheckBox | DashboardUi</title>

    <link rel="icon" type="image/icon" href="./assets/Logo-14f4ddeb.ico" />
    <script type="module" crossorigin src="./assets/main-9e5c3a03.js"></script>
    <link rel="stylesheet" href="./assets/main-dde1cee1.css">
  </head>
  <body>
    <!-- HEADER -->
    <header class="header">
      <nav class="nav" aria-labelledby="main-nav">
        <h2 id="main-nav" class="sr-only">Main navigation</h2>
        <div class="nav__addons" role="menubar">
          <a
            class="nav__logo"
            href="index.html"
            tabindex="0"
            aria-label="Description of the overall image"
          >
            <img src="./assets/Logo-c0442a44.png" alt="app Logo" />
          </a>
        </div>
      </nav>
    </header>

    <!-- PHONE NAV TOGGLE -->
    <button
      id="showPhoneNav-btn"
      class="button nav__humb"
      aria-expanded="false"
      aria-controls="options"
      aria-label="Show phone navigation"
      aria-labelledby="showPhoneNav-btn"
    >
      <span></span>
      <span></span>
    </button>

    <!-- PHONE NAV -->
    <nav class="nav--phone" aria-labelledby="main-nav-phone">
      <h2 id="main-nav-phone" class="sr-only">Main navigation for phone</h2>
      <ul class="nav__items" id="options" hidden>
        <li class="nav__item" role="none">
          <a
            class="nav__link"
            href="index.html"
            aria-current="page"
            tabindex="0"
            role="menuitem"
            >Home</a
          >
        </li>
      </ul>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="container container--fit">
      <div class="column">
        <h1>Checkboxes</h1>
        <div class="row">
          <div class="checkbox__group">
            <h2 id="checkbox-choices" class="sr-only">List des choix</h2>
            <div
              class="choices"
              role="group"
              aria-labelledby="checkbox-choices"
            >
              <input
                type="checkbox"
                id="optionOneId"
                name="options"
                value="option-1"
                aria-checked="false"
                aria-describedby="option-error"
              />
              <label for="optionOneId" tabindex="0">Option One</label>

              <input
                type="checkbox"
                id="optionTwoId"
                name="options"
                value="option-2"
                aria-checked="false"
                aria-describedby="option-error"
              />
              <label for="optionTwoId" tabindex="0">Option Two</label>

              <input
                type="checkbox"
                id="optionThreeId"
                name="options"
                value="option-3"
                aria-checked="false"
                aria-describedby="option-error"
              />
              <label for="optionThreeId" tabindex="0">Option Three</label>
            </div>
            <div id="option-error" class="input__error">
              ⚠ Example error message to demonstrate form validation
            </div>
          </div>
        </div>
      </div>

      <section class="section" id="checkbox-section">
        <h2>Form Checkboxes</h2>

        <p>
          Checkboxes are grouped inside a
          <code>.checkbox__group</code> container for semantic structure and
          accessibility. Each checkbox input is associated with a
          <code>&lt;label&gt;</code> to support keyboard and screen reader
          navigation. Validation messages appear below the group using
          <code>.input__error</code>.
        </p>

        <ul>
          <li>
            <strong>.checkbox__group</strong> — wrapper that contains all
            checkbox choices
          </li>
          <li>
            <strong>.choices</strong> — container for the individual checkbox
            inputs and labels
          </li>
          <li>
            <strong>input[type="checkbox"]</strong> — the checkbox element
          </li>
          <li>
            <strong>label[for]</strong> — clickable label linked to a checkbox
            input
          </li>
          <li>
            <strong>.input__error</strong> — validation message shown on error
          </li>
        </ul>

        <p><strong>Example markup:</strong></p>

        <pre><code class="language--html">
&lt;div class="checkbox__group"&gt;

  &lt;h2 id="checkbox-choices" class="sr-only"&gt;List des choix&lt;/h2&gt;

  &lt;div class="choices" role="group" aria-labelledby="checkbox-choices"&gt;

    &lt;input type="checkbox" id="optionOneId" name="options" value="option-1" aria-checked="false" aria-describedby="option-error" /&gt;

    &lt;label for="optionOneId" tabindex="0"&gt;Option One&lt;/label&gt;

    &lt;input type="checkbox" id="optionTwoId" name="options" value="option-2" aria-checked="false" aria-describedby="option-error" /&gt;

    &lt;label for="optionTwoId" tabindex="0"&gt;Option Two&lt;/label&gt;

    &lt;input type="checkbox" id="optionThreeId" name="options" value="option-3" aria-checked="false" aria-describedby="option-error" /&gt;

    &lt;label for="optionThreeId" tabindex="0"&gt;Option Three&lt;/label&gt;

  &lt;/div&gt;

  &lt;div id="option-error" class="input__error"&gt;This error text will show only when there is an error&lt;/div&gt;

&lt;/div&gt;
</code></pre>

        <p><strong>Css:</strong></p>

        <pre><code class="language--css">
 input[type=checkbox] {
  display: none;
}

input[type=checkbox] + label {
  display: flex;
  cursor: pointer;
  padding: 0.5rem;
  align-items: center;
  gap: 1rem;
  font-size: var(--fs);
  text-wrap: nowrap;
}

input[type=checkbox] + label:before {
  content: "✔";
  border: var(--border);
  border-radius: var(--br);
  display: flex;
  justify-content: center;
  align-items: center;
  width: 3rem;
  height: 3rem;
  padding: 0.5rem;
  color: transparent;
  transition: 0.2s;
}

@media (min-width: 36em) {
  input[type=checkbox] + label:before {
    width: 2.8rem;
    height: 2.8rem;
  }
}

@media (min-width: 48em) {
  input[type=checkbox] + label:before {
    width: 2.5rem;
    height: 2.5rem;
  }
}


input[type=checkbox] + label:active:before {
  transform: scale(0);
}


input[type=checkbox]:checked + label:before {
  background-color: #087EA4;
  color: #fff;
  border-color: rgb(4.4418604651, 69.9593023256, 91.0581395349);
}

input[type=checkbox]:disabled + label:before {
  transform: scale(1);
}

input[type=checkbox]:checked:disabled + label:before {
  transform: scale(1);
  background-color: rgb(78.6046511628, 205.523255814, 246.3953488372);
  border-color: rgb(78.6046511628, 205.523255814, 246.3953488372);
}
    
    </code></pre>
        <p><strong>Js:</strong></p>

        <pre><code class="language--js">
      
// --- 1. Update checkbox state (native + ARIA) ---

const updateCheckboxState = (checkbox, isChecked) => {
  checkbox.checked = isChecked;                  // native state
  checkbox.setAttribute('aria-checked', isChecked); // ARIA
};

// --- 2. Toggle checkbox state ---

const toggleCheckbox = (checkbox) => {
  updateCheckboxState(checkbox, !checkbox.checked);
};

// --- 3. Handle click events ---

const handleCheckboxClick = (e, checkboxes) => {
  const checkbox = e.target.closest('[role="checkbox"]');
  if (checkbox && checkboxes.includes(checkbox) && !checkbox.disabled) {
    toggleCheckbox(checkbox);
  }
};

// --- 4. Handle keyboard (spacebar) ---

const handleCheckboxKeydown = (e, checkboxLabels, checkboxes) => {
  if (e.key === ' ' || e.key === 'Space') {
    e.preventDefault();
    const label = e.target.closest('label');
    if (!label) return;

    const index = checkboxLabels.indexOf(label);
    if (index > -1 && !checkboxes[index].disabled) {
      toggleCheckbox(checkboxes[index]);
    }
  }
};

// --- 5. Initialize a single checkbox group ---

const initCheckboxGroup = (groupe) => {

if (!(groupe instanceof HTMLElement)) return;
  const checkboxLabels = Array.from(groupe.querySelectorAll('label'));
  const checkboxes = Array.from(groupe.querySelectorAll("input[type='checkbox']"));

  // Add ARIA roles and initial state

  checkboxes.forEach(cb => {
    cb.setAttribute('aria-checked', cb.checked);
  });

  // Click handler

  groupe.addEventListener('click', e => handleCheckboxClick(e, checkboxes));

  // Keyboard handler

  checkboxLabels.forEach(label => {
    label.addEventListener('keydown', e => handleCheckboxKeydown(e, checkboxLabels, checkboxes));
  });
};

// --- 6. Initialize all checkbox groups ---

export const manageCheckBoxes = (checkBoxesGroups) => {

  checkBoxesGroups.forEach((checkBoxesGroup) =>initCheckboxGroup(checkBoxesGroup));
};

    </code></pre>
      </section>
    </main>

    
  </body>
</html>
