<!DOCTYPE html>
<html lang="en"  >
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <title>Sidebar | DashboardUi</title>

    <link rel="icon" type="image/icon" href="img/logo.ico" />
    
    <script type="module" crossorigin src="./assets/main-9e5c3a03.js"></script>
    <link rel="stylesheet" href="./assets/main-dde1cee1.css">
    <link rel="stylesheet" href="./assets/style-e408b1ef.css">
  </head>
<body>
  <header class="header">
    <nav class="nav" aria-labelledby="main-nav">
      <h2 id="main-nav" class="sr-only">Main navigation</h2>

      <div class="nav__addons" role="menubar">
        <button
          id="sidebarButton"
          class="button rounded sidebar__btn"
          aria-haspopup="true"
          aria-expanded="false"
          aria-controls="sideBarId"
          aria-label="Open sidebar menu" 
        >
        <span>
          <i class="fa-solid fa-gear"></i>
          </span>
        </button>
        <a
          class="nav__logo"
          href="index.html"
          tabindex="0"
          aria-label="Go to Home page"
        >
          <img src="./assets/Logo-c0442a44.png" alt="" />
        </a>
      </div>
    </nav>
  </header>

    <button
    id="showPhoneNav-btn"
    class="button nav__humb"
    aria-expanded="false"
    aria-controls="navPhone"
    aria-label="Toggle mobile navigation"
  >
    <span></span>
    <span></span>
  </button>
  
  <nav class="nav--phone" aria-labelledby="main-nav-phone">
    <h2 id="main-nav-phone" class="sr-only">main navigation for phone</h2>

    <ul class="nav__items" id="navPhone" hidden role="menubar">
      <li class="nav__item" role="none">
        <a class="nav__link" href="index.html">home</a>
      </li>
    </ul>
  </nav>

  <button
    id="sidebarPhoneButton"
    class="button sidebar__btn sidebar__btn--phone"
    aria-haspopup="true"
    aria-expanded="false"
    aria-controls="sideBarId"
    aria-label="Open phone sidebar menu"
  >
    <span>
      <i class="fa-solid fa-gear"></i>
    </span>
  </button>

  <aside class="sidebar">
    <ul
      id="sideBarId"
      role="menu"
      aria-labelledby="sidebarButton" 
      class="sidebar__items"
    >
      <li role="presentation" class="sidebar__item active">
        <a role="menuitem" href="#">
          Users
          <span class="badge badge__warning">155</span>
          <span><i class="fa-solid fa-users"></i></span>
        </a>
      </li>
      <li role="presentation" class="sidebar__item">
        <a role="menuitem" href="#">Description</a>
      </li>
      <li role="presentation" class="sidebar__item">
        <a role="menuitem" href="#">Description</a>
      </li>
    </ul>
  </aside>

  <main class="container container--fit">
<section class="section" id="sidebar">
  <h2>Sidebar</h2>

  <p>
    This sidebar component provides a secondary navigation panel that can be opened from both desktop
    and mobile. It uses semantic HTML elements, ARIA attributes, and a BEM class structure to ensure
    accessible and responsive behavior. The sidebar supports notification badges, icons, and active
    states for current sections.
  </p>

  <h3>Class Reference</h3>
  <ul>
    <li><strong>.sidebar</strong> — wrapper for the sidebar container</li>
    <li><strong>.sidebar__btn</strong> — button that toggles the sidebar</li>
    <li><strong>.sidebar__btn--phone</strong> — mobile version of the sidebar toggle button</li>
    <li><strong>.sidebar__items</strong> — list wrapper for sidebar links</li>
    <li><strong>.sidebar__item</strong> — individual sidebar list item</li>
    <li><strong>.active</strong> — highlights the current active page/section</li>
    <li><strong>.badge</strong> — notification indicator</li>
    <li><strong>.badge__warning</strong> — badge color modifier</li>
    <li><strong>.sr-only</strong> — hides text visually, but keeps it for screen readers</li>
  </ul>

  <h3>Accessibility</h3>
  <p>
    The sidebar uses <code>aria-expanded</code> and <code>aria-controls</code> to communicate its
    open/close state to assistive technologies. The menu structure uses <code>role="menu"</code> and
    <code>role="menuitem"</code> for screen reader support, while the toggle button uses
    <code>aria-haspopup="true"</code> to indicate that it controls a submenu panel.
  </p>

  <h3>Keyboard Navigation</h3>
  <p>
    Users can open or close the sidebar using <strong>Enter</strong> or <strong>Spacebar</strong> when
    focusing on the toggle button. Sidebar links can be navigated using the <strong>Tab</strong> key.
    Once opened, focus should move into the sidebar list for smooth keyboard navigation.
  </p>
  <p>
     Detailed instructions for integrating JavaScript functionality are available <a href="javascript.html">here</a>.
  </p>

  <p><strong>Example markup:</strong></p>
  <pre><code class="language--html">
&lt;header class="header"&gt;

  &lt;nav class="nav" aria-labelledby="main-nav"&gt;

    &lt;h2 id="main-nav" class="sr-only"&gt;Main navigation&lt;/h2&gt;


    &lt;div class="nav__addons" role="menubar"&gt;

      &lt;button

        id="sidebarButton"
        class="button rounded sidebar__btn"
        aria-haspopup="true"
        aria-expanded="false"
        aria-controls="sideBarId"
        aria-label="Open sidebar menu"
      &gt;

        &lt;span&gt;

          &lt;i class="fa-solid fa-gear"&gt;&lt;/i&gt;

        &lt;/span&gt;

      &lt;/button&gt;

      &lt;a

        class="nav__logo"
        href="index.html"
        tabindex="0"
        aria-label="Go to Home page"

      &gt;

        &lt;img src="assets/img/Logo.png" alt="" /&gt;

      &lt;/a&gt;

    &lt;/div&gt;

  &lt;/nav&gt;

&lt;/header&gt;


&lt;button

  id="sidebarPhoneButton"
  class="button sidebar__btn sidebar__btn--phone"
  aria-haspopup="true"
  aria-expanded="false"
  aria-controls="sideBarId"
  aria-label="Open phone sidebar menu"

&gt;

  &lt;span&gt;

    &lt;i class="fa-solid fa-gear"&gt;&lt;/i&gt;

  &lt;/span&gt;

&lt;/button&gt;

&lt;aside class="sidebar"&gt;

  &lt;ul
    id="sideBarId"
    role="menu"
    aria-labelledby="sidebarButton"
    class="sidebar__items"

  &gt;

    &lt;li role="presentation" class="sidebar__item active"&gt;

      &lt;a role="menuitem" href="#"&gt;

        Users

        &lt;span class="badge badge__warning"&gt;155&lt;/span&gt;

        &lt;span&gt;&lt;i class="fa-solid fa-users"&gt;&lt;/i&gt;&lt;/span&gt;

      &lt;/a&gt;

    &lt;/li&gt;

    &lt;li role="presentation" class="sidebar__item"&gt;

      &lt;a role="menuitem" href="#"&gt;Description&lt;/a&gt;

    &lt;/li&gt;

    &lt;li role="presentation" class="sidebar__item"&gt;

      &lt;a role="menuitem" href="#"&gt;Description&lt;/a&gt;

    &lt;/li&gt;

  &lt;/ul&gt;

&lt;/aside&gt;
</code></pre>

  <p><strong>CSS:</strong></p>
  <pre><code class="language--css">
.sidebar {

  position: fixed;
  top: 5.6rem;
  left: 0;
  width: 27rem;
  background-color: var(--clr-light);
  z-index: 5;
  height: calc(100vh - 5.6rem);
  border: var(--border);
  border-left: 0;
  transform: translateX(-110%);
  transition: transform 0.5s ease-in-out;
  box-shadow: var(--div-shadow);

}
.sidebar a,
.sidebar a:focus,
.sidebar a:hover {

  text-decoration: none;

}

.sidebar.open {

  transform: translateX(0);

}

.sidebar__items {

  display: flex;
  flex-direction: column;
  border-bottom: var(--border);
  gap: 0.5rem;
  padding: 0.5rem;

}

.sidebar__btn {

  width: 4rem;
  height: 4rem;
  background-color: var(--clr-light);
  cursor: pointer;
  align-items: center;
  justify-content: center;

}

.sidebar__btn:hover span {

  color: rgb(4.4418604651, 69.9593023256, 91.0581395349);

}

.sidebar__btn span {

  color: #087EA4;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 3rem;
  height: 3rem;
  transform-origin: center;
  transform: rotate(0);
  transition: transform 0.6s ease-in-out;
  font-size: 2.5rem;

}

.sidebar__btn.clicked > span {

  transform: rotate(360deg);

}

.sidebar__btn--phone {

  position: fixed;
  display: flex;
  top: 1rem;
  left: 1rem;
  border-radius: 50%;
  z-index: 5;
  margin-left: 1rem;
  box-shadow: var(--div-shadow);

}

@media (min-width: 48em) {

  .sidebar__btn--phone {

    display: none;

  }

}

.sidebar__item {

  color: var(--clr-font);
  display: flex;
  height: 5rem;
  justify-content: space-between;
  align-items: center;
  font-size: var(--fs);
  cursor: pointer;
  border-radius: var(--br);

}

.sidebar__item.active {

  background-color: #087EA4;
  color: var(--clr-light);

}

.sidebar__item.active a {

  color: var(--clr-light);
}

.sidebar__item:hover {

  background-color: #E9EAF4;

}

.sidebar__item:hover a {

  color: var(--clr-font);

}

.sidebar__item a {

  padding: 0 1rem;
  text-decoration: none;
  color: var(--clr-font);
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;

}

.sidebar__item a:focus {

  border: 0.2rem solid #087EA4;
  border-radius: var(--br);

}

.sidebar__item span:first-of-type {

  margin-left: auto;
  margin-right: 1rem;

}

  </code></pre>
  <p><strong>JS:</strong></p>
  <pre><code class="language--js">

// Import key event handler utility and inert state toggler

import { handleKeyEvents } from '../utils/KeyEventHandlers';

import { toggleInertWhenState } from '../utils/Inert';

const updateMenuButtonState = (btn) => {

  const isExpanded = btn.classList.contains("clicked");
  btn.setAttribute("aria-expanded", isExpanded);
  btn.setAttribute("aria-hidden", !isExpanded);
  //  btn.classList.toggle("clicked"); 

};


const resetOtherButtons = (sidebarButtons, activeBtn) => {

  sidebarButtons.forEach((btn) => {

    if (btn !== activeBtn) {
      btn.classList.remove("clicked");

    }

    updateMenuButtonState(btn);

  });

};

// Handle toggling the visibility of the menu and inert states


const toggleMenuVisibility = (btn, sidebarButtons, sidebar) => {

  if (!btn || !sidebar) return;

  resetOtherButtons(sidebarButtons, btn);

  sidebar.classList.toggle("open"); // Open/close the main sidebar

  btn.classList.toggle("clicked");  // Toggle clicked state

  updateMenuButtonState(btn);

  // Make background inert when menu is open

  toggleInertWhenState(sidebar, "open", true);
  
};

// Close the main menu and refocus on the corresponding button
const quiteMainMenu = (index, mainMenuButtons, menu) => {

  toggleMenuVisibility(mainMenuButtons[index], mainMenuButtons, menu);

  mainMenuButtons[index].focus(); // Refocus on the button that triggered the close

};

const closeSidebar = (index, sidebarButtons, sidebar) => {

  toggleMenuVisibility(sidebarButtons[index], sidebarButtons, sidebar);

  sidebarButtons[index]?.focus();

};

// Manage keyboard navigation inside the menu

const handleSidebarKeyboardNavigation = (index, sidebarButtons, sidebar) => {

  if (!sidebar) return;


  const menuItems = Array.from(sidebar.querySelectorAll("[role='menuitem']"));

  menuItems[0]?.focus();

  const onKeyDown = (event) => {

    const pressedItem = event.target.closest("[role='menuitem']");

    const i = menuItems.indexOf(pressedItem);


    handleKeyEvents(

      event,
      i,
      null,
      menuItems,
      () => closeSidebar(index, sidebarButtons, sidebar)

    );

  };

  sidebar.addEventListener("keydown", onKeyDown, { once: true });

};



/**
 * Queries and returns sidebar buttons and container.
 */
const getSidebarElements = () => {

  const buttons = Array.from(document.querySelectorAll(".sidebar__btn"));

  const sidebar = document.querySelector(".sidebar");

  return { buttons, sidebar };

};

/**
 * Attaches click handler to toggle the sidebar menu.
 */

const attachClickHandler = (btn, buttons, sidebar) => {

  btn.addEventListener("click", () => toggleMenuVisibility(btn, buttons, sidebar));

};

/**
 * Attaches keyboard handler (Space / Enter) to toggle sidebar menu.

 */
const attachKeyboardHandler = (btn, index, buttons, sidebar) => {

  btn.addEventListener("keydown", (event) => {

    if (event.code === "Space" || event.code === "Enter") {

      event.preventDefault();

      toggleMenuVisibility(btn, buttons, sidebar);


      if (btn.classList.contains("clicked")) {

        handleSidebarKeyboardNavigation(index, buttons, sidebar);
        
      }
    }
  });
};

/**
 * Initializes all sidebar buttons with click and keyboard handlers.
 */
const initSidebarButtons = (buttons, sidebar) => {
  buttons.forEach((btn, index) => {
    attachClickHandler(btn, buttons, sidebar);
    attachKeyboardHandler(btn, index, buttons, sidebar);
  });
};

/**
 * Initializes the sidebar menu.
 */
const Sidebar = () => {
  const { buttons, sidebar } = getSidebarElements();
  if (!sidebar) return;

  // Initialize inert state (menu is inert when closed)
  toggleInertWhenState(sidebar, "open", true);

  // Set up buttons
  initSidebarButtons(buttons, sidebar);
};



export default Sidebar;

  </code></pre>
</section>


</main>

  
</body>
</html>
