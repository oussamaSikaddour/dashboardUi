import{h as f}from"./KeyEventHandlers-211c5d42.js";import{b as i}from"./main-9e5c3a03.js";const l=e=>{const t=e.classList.contains("clicked");e.setAttribute("aria-expanded",t),e.setAttribute("aria-hidden",!t)},m=(e,t)=>{e.forEach(o=>{o!==t&&o.classList.remove("clicked"),l(o)})},n=(e,t,o)=>{!e||!o||(m(t,e),o.classList.toggle("open"),e.classList.toggle("clicked"),l(e),i(o,"open",!0))},p=(e,t,o)=>{var c;n(t[e],t,o),(c=t[e])==null||c.focus()},y=(e,t,o)=>{var s;if(!o)return;const c=Array.from(o.querySelectorAll("[role='menuitem']"));(s=c[0])==null||s.focus();const r=a=>{const d=a.target.closest("[role='menuitem']"),u=c.indexOf(d);f(a,u,null,c,()=>p(e,t,o))};o.addEventListener("keydown",r,{once:!0})},g=()=>{const e=Array.from(document.querySelectorAll(".sidebar__btn")),t=document.querySelector(".sidebar");return{buttons:e,sidebar:t}},S=(e,t,o)=>{e.addEventListener("click",()=>n(e,t,o))},h=(e,t,o,c)=>{e.addEventListener("keydown",r=>{(r.code==="Space"||r.code==="Enter")&&(r.preventDefault(),n(e,o,c),e.classList.contains("clicked")&&y(t,o,c))})},E=(e,t)=>{e.forEach((o,c)=>{S(o,e,t),h(o,c,e,t)})},A=()=>{const{buttons:e,sidebar:t}=g();t&&(i(t,"open",!0),E(e,t))};export{A as default};
