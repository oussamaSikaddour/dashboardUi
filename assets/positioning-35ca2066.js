function r(t){if(!t)return console.warn("getElement: No element provided"),null;if(typeof window>"u"||typeof document>"u")return console.warn("getElement: DOM not available"),null;try{return typeof t=="string"?document.querySelector(t):t instanceof Element?t:null}catch(n){return console.error("getElement: Invalid element",n),null}}function d(t,n){const o=t.getBoundingClientRect(),e=n.getBoundingClientRect(),{innerWidth:l,innerHeight:i}=window,{scrollX:h,scrollY:u}=window;return{targetRect:o,floatRect:e,viewport:{width:l,height:i},scroll:{x:h,y:u}}}function p(t,n,o,e){return{top:t.top>=n.height+e,bottom:t.bottom+n.height+e<=o.height,right:t.right+n.width+e<=o.width,left:t.left-n.width-e>=0}}function s(t,n,o,e){const l=p(t,n,o,e);let i={top:t.top-n.height-e,left:t.left+(t.width-n.width)/2,name:"top"};return!l.top&&l.bottom&&(i.top=t.bottom+e,i.name="bottom"),i.left<0?(i.left=e,i.name+="-left"):i.left+n.width>o.width&&(i.left=o.width-n.width-e,i.name+="-right"),!l.top&&!l.bottom&&(l.right?(i.left=t.right+e,i.top=t.top+(t.height-n.height)/2,i.name="right"):l.left&&(i.left=t.left-n.width-e,i.top=t.top+(t.height-n.height)/2,i.name="left")),i}function m(t,n,o){!t||!n||(t.style.position="absolute",t.style.top=`${n.top+o.y}px`,t.style.left=`${n.left+o.x}px`,t.dataset.position=n.name)}function w(t,n,o=8){const e=r(t),l=r(n);if(!e||!l){console.warn("positionRelativeTo: Invalid target or floating element");return}const i=d(e,l),h=s(i.targetRect,i.floatRect,i.viewport,o);m(l,h,i.scroll)}export{w as p};
