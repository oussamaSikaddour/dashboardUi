import{h as u}from"./KeyEventHandlers-211c5d42.js";const r=t=>t.classList.contains("active"),f=(t,e)=>{t.classList.toggle("active",e),t.setAttribute("aria-expanded",e)},g=(t,e)=>{t.classList.toggle("open",e),t.setAttribute("aria-hidden",!e)},s=(t,e,n)=>{f(t,n),g(e,n)},i=t=>t.classList.contains("all-tabs-can-open"),d=(t,e)=>{t.forEach((n,o)=>{s(n,e[o],!1)})},l=(t,e,n)=>{s(e[t],n[t],!0)},h=(t,e,n)=>{s(e[t],n[t],!1)},m=(t,e,n)=>{const o=r(e[t]);d(e,n),o||l(t,e,n)},y=(t,e,n)=>{r(e[t])?h(t,e,n):l(t,e,n)},a=(t,e,n,o)=>{i(o)?y(t,e,n):m(t,e,n)},A=(t,e)=>{const n=t.target.closest(".accordion__header");return n?e.indexOf(n):-1},p=(t,e,n,o)=>{const c=A(t,e);c!==-1&&a(c,e,n,o)},S=(t,e,n,o)=>{const c=A(t,e);if(c===-1)return;u(t,c,()=>a(c,e,n,o),e)},k=(t,e,n,o)=>{t.type==="click"?p(t,e,n,o):t.type==="keydown"&&S(t,e,n,o)},C=(t,e,n)=>{const o=c=>{k(c,e,n,t)};t.addEventListener("click",o),t.addEventListener("keydown",o)},E=(t,e)=>{t.length>0&&l(0,t,e)},I=(t,e,n)=>t.length===0?(console.warn("Accordion has no headers",n),!1):t.length!==e.length?(console.warn("Accordion has mismatched headers and panels",n),!1):!0,b=()=>{document.querySelectorAll(".accordion").forEach(e=>{const n=Array.from(e.querySelectorAll(".accordion__header")),o=Array.from(e.querySelectorAll(".accordion__panel"));I(n,o,e)&&(C(e,n,o),i(e)||E(n,o))})};export{b as default};
